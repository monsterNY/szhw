
### redis持久化的方式 ###

Redis为持久化提供了两种方式：

- RDB : 在指定的时间间隔能对你的数据进行快照存储。

- AOF : 记录每次对服务器写的操作，当服务器重启的时候会重新执行这些命令来恢复原始的数据。


在线上我们到底该怎么做？我提供一些自己的实践经验。

1. 如果Redis中的数据并不是特别敏感或者可以通过其它方式重写生成数据，可以关闭持久化，如果丢失数据可以通过其它途径补回；
1. 自己制定策略定期检查Redis的情况，然后可以手动触发备份、重写数据；
1. 单机如果部署多个实例，要防止多个机器同时运行持久化、重写操作，防止出现内存、CPU、IO资源竞争，让持久化变为串行；
1. 可以加入主从机器，利用一台从机器进行备份处理，其它机器正常响应客户端的命令；
1. RDB持久化与AOF持久化可以同时存在，配合使用。


[https://juejin.im/post/5b70dfcf518825610f1f5c16](https://juejin.im/post/5b70dfcf518825610f1f5c16 "参考文章")
