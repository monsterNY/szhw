### 原理 ###

与同步函数相比，CLR在执行异步函数时有几个不同的特点：

1.        并非一次完成，而且分多次完成

2.        并非由同一个线程完成，而是线程池每次动态分配一个线程来处理；

结合这些特点，C#编译器将异步函数转换为一个状态机结构。这种结构能挂起和恢复。它的执行方式是一种工作流的方式。


异步这个字眼儿就是说回调次序是灵活的、不确定的。

把一些流程放到子线程中并发执行，然后将来才回调、继续处理后续内容，这需要给调用者预先设计异步接口方式。

### 使用await的作用 ###

使用await会释放当前线程，等待异步执行完成

### 父线程中通过异步的方式创建了一个子线程，那么子线程是否会和父线程是同一线程? ###

如果是没有等待子任务执行完毕,那么就不可能，因为父线程占有线程时，是无法用于其他工作的。

如果有等待子任务，那么等待子任务的父线程是会处于空闲状态，处于空闲状态的线程能够被**“复用”**的，故执行子任务的线程就可能会和父线程是可能为同一线程。

个人总结 ： 当在主线程执行的代码中，没有令当前线程空闲的操作，就不会出现主线程被“复用”的现象，就不可能和子线程是同一线程

反之则可能是同一线程。

### 创建异步对主线程有什么影响？ ###

[https://bbs.csdn.net/topics/392216407](https://bbs.csdn.net/topics/392216407 "csdn 关于异步的讨论")